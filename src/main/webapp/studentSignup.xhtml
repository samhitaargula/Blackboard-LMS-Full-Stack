<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="jakarta.faces.facelets"
                template="./WEB-INF/templates/publicTemplate.xhtml"
                xmlns:p="jakarta.faces.passthrough"
                xmlns:h="jakarta.faces.html">

    <ui:define name="title">
        Student Sign Up
    </ui:define>

    <ui:define name="content">
        <main class="form-signin w-100 m-auto">

            <h1>Blackboard</h1><br/>
            <h2 class="h3 mb-3 fw-normal">Create New Account</h2>

            <h:form>
                <h:panelGroup layout="block" class="form-floating">
                    <h:inputText id="studentName" 
                                 p:placeholder="studentName"
                                 styleClass="#{username.valid ? 'form-control' : 'form-control is-invalid'}"
                                 value="#{newStudentSignupController.student.name}"/>
                    <h:outputLabel value="Name: " for="studentName" />
                    <h:message for="studentName" errorStyle="color: red" />
                </h:panelGroup>
                
                <h:panelGroup layout="block" class="form-floating">
                    <h:inputText id="studentEmail" 
                                 type="email"
                                 p:placeholder="studentName"
                                 styleClass="#{username.valid ? 'form-control' : 'form-control is-invalid'}"
                                 value="#{newStudentSignupController.student.email}"/>
                    <h:outputLabel value="Email: " for="studentEmail" />
                    <h:message for="studentEmail" errorStyle="color: red" />
                </h:panelGroup>
                
                <h:panelGroup layout="block" class="form-floating">
                    <h:inputText binding="#{username}" id="username" 
                                 p:placeholder="Username"
                                 styleClass="#{username.valid ? 'form-control' : 'form-control is-invalid'}"
                                 value="#{newStudentSignupController.student.user.username}"/>
                    <h:outputLabel value="Username: " for="username" />
                    <h:message for="username" errorStyle="color: red" />
                </h:panelGroup>

                <h:panelGroup layout="block" class="form-floating">
                    <h:inputSecret binding="#{password}" id="password"
                                   p:placeholder="Password"
                                   styleClass="#{password.valid ? 'form-control' : 'form-control is-invalid'}"
                                   value="#{newStudentSignupController.student.user.password}"/>
                    <h:outputLabel value="Password:" for="password" />
                    <h:message for="password" errorStyle="color: red" />
                </h:panelGroup>

                <h:commandButton class="btn btn-primary w-100 py-2" 
                                 value="Register" 
                                 action="#{newStudentSignupController.doStudentSignup()}"/>
                
                <p class="mt-5 mb-3 text-body-secondary">&copy; 2024</p>
            </h:form>
        </main>
    </ui:define>

</ui:composition>
